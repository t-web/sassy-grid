// -------------------------------------------------------------
// Importing grid core and clearfix
// --------------------------------

@import '../../externals/sassy-grid/sass/grid-core';
@import '../../externals/sassy-grid/sass/clearfix';

// -------------------------------------------------------------
// Basic grid settings
// -------------------

$degredation-selector: '.no_media_queries';
$ie6-selector: '.ie6';
$grid-debug: true;

// -------------------------------------------------------------
// Defining the grid
// -----------------

$block-width: 250;
$number-of-blocks: 5;

@include define-grid-settings(
    $grid-name: 'block-grid',
    $is-fluid: true,
    $column-width: ( $block-width / 60 * $number-of-blocks ),
    $gutter-width: 0,
    $num-columns: 60,
    $padding-left: 30,
    $padding-right: 30,
    $breakpoints: (
        (
            query 'screen and (max-width: #{ $block-width / 2 + $block-width * 4 }px)'
        ),
        (
            query 'screen and (max-width: #{ $block-width / 2 + $block-width * 3 }px)'
        ),
        (
            query 'screen and (max-width: #{ $block-width / 2 + $block-width * 2 }px)'
        ),
        (
            query 'screen and (max-width: #{ $block-width / 2 + $block-width * 1 }px)'
        )
    )
);

// -------------------------------------------------------------
// Applying the grid
// -----------------

@include apply-grid(
    $use-grid: 'block-grid',
    $container-selector: '.grid_container',
    $row-selector: '.blocks',
    $row-extend-selectors: '%grid_row',
    $column-selector-prefix: 'grid_col_',
    $output-column-styles-for: 60,
    $break-columns: (
        (
            breakpoint 1,
            selector '%quarter',
            columns 15
        ),
        (
            breakpoint 2,
            selector '%third',
            columns 20
        ),
        (
            breakpoint 3,
            selector '%half',
            columns 30
        ),
        (
            breakpoint 4,
            selector '%full',
            columns 60
        )
    )
);

// -------------------------------------------------------------
// Basic grid styles
// -----------------

.blocks{
    .block{
        @include span-columns( $columns: 12, $grid-name: 'block-grid' );
        @extend %quarter;
        @extend %third;
        @extend %half;
        @extend %full;
        float: left;
        .main &{
            padding-bottom: 2em;
        }
    }
}

%grid_row{
    @include clearfix;
}

.grid_container{
    @include clearfix;
    margin-left: auto;
    margin-right: auto;
}

/* ------------------------------------------------------------- *
 * Demo styles
 * ------------------------------------------------------------- */

.block{
    margin-bottom: 20px;
    img{
        width: 100%;
        height: 80px;
        background: #D8E6FF;
    }
    p{
        padding: .5em 1em;
    }
    .figure{
        margin: 0 10px;
        border: 1px solid #ccc;
    }
}